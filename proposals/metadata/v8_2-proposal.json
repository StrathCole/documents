{
 "title": "Upgrade to v3.1.5",
 "authors": [
  "terra13avdm9rqxpftv3vrkaqaakakgh30909x8hrruz"
 ],
 "summary": "This proposal, if passed, will upgrade the network to v3.1.5 which adds a security patch for wasmd and includes changes from v3.1.4 with a gas simulation patch.",
 "details": "### Release v3.1.5\n\nA new release of the `terrad` client has been created on the 5th of September 2024. The release notes for the new version can be viewed here:\n\nhttps://github.com/classic-terra/core/releases/tag/v3.1.5\n\nThis release applies the wasmd security patch from Genuine Labs' PR #512 on v3.1.4. This update bumps wasmd to 0.46 and wasmvm to 1.5.4. This update also includes the changes from v3.1.4. The previous version v3.1.4 containing a fix for gas estimation of taxable transactions was only released to endpoint providers as it did not contain consensus-relevant changes.\n\n### Proposal\n\nThis proposal seeks validator and community approval to update the `terrad` client to `v3.1.5` (upgrade name `v8_2`). The chain will be halted at **block height 19850000**  which will approximately be processed on **18th of September 2024 11:15am UTC**. Upon passing of this proposal, an automatic chain halt will be scheduled at the specified height. The validators are going to be asked to install the new version of the `terrad` client after the chain halt occured.\n\n### Upgrade Instructions for Validators\n\nAs soon as the chain automatically halts at the designated upgrade block height follow the upgrade procedure. Please **don't execute these commands before the chain has halted**:\n\n```bash\n$ git clone https://github.com/classic-terra/core core-v3.1.5\n$ cd core-v3.1.5\n$ git checkout v3.1.5\n$ make build && make install \n```\n\nIn case you already have a local copy of the repository inside the local folder `core`:\n\n```bash\n$ cd core\n$ git stash\n$ git fetch --all\n$ git fetch --tags\n$ git checkout v3.1.5\n$ make build && make install\n```\n\nCheck the correct installation:\n\n```bash\n$ terrad version\nv3.1.5\n```\n\nAfter that, restart the client with `terrad start` or your system service and wait for consensus. During that period, **don't restart the client if not otherwise asked to do so**.\n\n### Infrastructure Providers\n\nInfrastructure providers who run mantlemint accelerated LCDs are asked to build and install the updated mantlemint version from source after the upgrade block height is reached:\n\nhttps://github.com/classic-terra/mantlemint/releases/tag/v3.1.5\n\n### Testing and Rollback\n\nA rehearsal upgrade to `v3.1.5` was conducted on rebel-2 testnet on 8th of September 2024. If for some unforeseen (and unlikely) reason the new release will not be able to produce new blocks on mainnet then the upgrade name `v8_2` can be applied to the previous release `v3.1.3`. In this case validators are going to be asked to roll back to a previous state and apply a patched `v3.1.3` release.",
 "proposal_forum_url": "",
 "vote_option_context": "- **YES** - you agree to schedule an upgrade to v3.1.5\n- **NO** - you don't agree to schedule an upgrade to v3.1.5\n- **ABSTAIN** - you want the proposal to reach quorum and align with the majority vote\n- **VETO** - you strongly disagree and want the prop to fail with a 33,33% veto threshold"
}